# Copyright (c) 2014 by Michael Zahniser
#
# Endless Sky is free software: you can redistribute it and/or modify it under the
# terms of the GNU General Public License as published by the Free Software
# Foundation, either version 3 of the License, or (at your option) any later version.
#
# Endless Sky is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE.  See the GNU General Public License for more details.
#
# ### ### ### ### ### ### ### ### ### ### ### ### ### ### ### ### #
# THIS FILE							  #
# Copyright (c) 2016-2017 by Endros Gunderberg, www.endros.de	  #
# ### ### ### ### ### ### ### ### ### ### ### ### ### ### ### ### #



mission "Go to Mars"
	name "Go to Mars"
	description "Travel to <destination> in <system> and find out about ancient findings."
	to offer
		random < 5
	source
		government Republic "Free Worlds" Syndicate Neutral
	destination Mars
	on offer
		conversation
			`When reading the daily news you notice a report about ancient findings on Mars leading to a new gold rush there.`
				accept
	on complete
		event "Mars: gold rush ends" 30
		conversation
			`As you approach the planets surface you dont notice any changes yet. Everything looks quite normal. May be you will find more information in the spaceport.`



mission "Search for Marsian Ancestors"
	priority
	name "Search for Marsian Ancestors"
	description "Bring a large team of researchers and their equipment to <destination>."
	blocked `There is a mission available in this spaceport which requires approx. 100 bunks and 250 tons of cargo space. You may come back when you meet the requirements.`
	passengers 90
	cargo "Scientific equipment" 240
	infiltrating
	to offer
		has "Go to Mars: done"
	source Mars
	destination "Marsian Home"
	on offer
		conversation
			`As you enter one of the bars near the spaceport you notice a group of researchers who have unsuccessfully negotiated with an old starship captain.`
			choice
				`	(Ignore them and leave the bar before they notice you.)`
				`	(See what they want.)`
					goto meet
			
			`	You've had too many experiences with scientists asking you to travel through merely entire known space occupying your bunks for months just for a lousy payment. You quickly get up and leave the bar, and walk down the passageway back toward your ship.`
				decline

			label meet
			`	You ask what is happening, and one of them explains. Recently, a collection of scientists and archeologists found signs of an old Marsian settlement. Far older than human settlements on Earth.`

			choice
				`	"What happened to them? And there are they now?"`
					goto destiny
				`	"Where did they come from?"`
					goto origin
				`	"Another alien story? I am not interested."`
					decline

			label destiny
			`	They are silent for a long moment, looking down at the table. They have no clue. Nobody knows yet what happened to them.`
			`	One of the scientists says, "But we might have an idea where they came from."`
			`	You ask, "Where they came from?"`
				goto origin
			
			label origin
			`	"Indications show they came from a system near the pirates of Gienah. Please, may be you could help us. We are looking for a captain to bring our team of 90 scientists with equipment to Meron system where we suspect to find there old home world."`

			choice
				`	"I hope you pay well for this transport."`
					accept
				`	"My ship is too small for all of you."`
					defer
				`	"That passage is too risky for me."`
					decline

	on accept
		event "Path to Marsian Ancestors"
	on visit
		dialog "You have reached <planet>, but you left some of your ships behind. Wait for them to arrive (or go back and refuel, if necessary) and then return here."
	on complete
		payment 630000
		"Marsian Home: population" += 90
		"Marsian Home: archeologists" += 30
		"Marsian Home: scientists" += 50
		"Marsian Home: researchers" += 0
		"Marsian Home: engineers" += 10
		"Marsian Home: workers" += 0
		"Marsian Home: civilians" += 0
		conversation
			`Beyond the scopes of human civilisation you discover the fertile planet <planet>. You do a few surface scans and discover the landing site pretty soon. But you can't help wonder how this place could stay undiscovered throughout the last centuries.`
			`The researchers are enthusiastic. One of them gives you a chip with your payment of <payment>. "Thanks for your help, Captain <last>. It looks like here's more to discover than we thought. If you want to know more come back in a week or so."`
		event "Marsian settlement discovered" 28
		event "Marsian technology timer: general progress" 60

		event "Marsian technology: Basics" 28
		event "Marsian technology: Megaliner" 75
		event "Marsian technology: Military" 180
		event "Marsian technology: Metropolis" 270
		event "Marsian technology: Human Freighters" 540
		event "Marsian technology: Human Freighters Adv" 810
		event "Marsian technology: Ancient Cubes" 720
		event "Marsian technology: Ancient Cubes XXL" 1020
#		event "Marsian technology: Ancient Cubes XXL on Mars" 1200
		event "Marsian technology: Metropolis wreckage" 1110



mission "Search for Marsian Ancestors: Moons"
	priority
	deadline 5
	name "Scan the moons of Marsian Home"
	description "Scan all the moons orbiting planet <planet> and return by <date>."
	landing
	to offer
		has "Search for Marsian Ancestors: done"
	passengers 5
	cargo "Scientific scanners" 50
	infiltrating
	stopover "Marsaido"
	stopover "Merseido"
	stopover "Mirsiado"
	source "Marsian Home"
	destination "Marsian Home"
	on offer
		"Marsian Home: scientists" -= 5
		conversation
			`Just when you are about to leave they come back to you. "Would you be so kind and fly five of us to the three moons of this planet and then return back here? Of course we will pay you for this extra trip."`
			choice
				`	"Sure, I'd be glad to help."`
					goto yes
				`	"Since I am the only captain here right now..."`
					goto yes
				`	"Sorry, but I have other urgent duties waiting for me. Good bye."`
					flee

			label yes
			`The team loads some scientific scanners on your ship and is ready to start.`
				launch
	on stopover
		dialog `That was the last of the three moons that the researchers asked you to scan. Time to return the team on <planet> with the data.`
	on complete
		payment 80000
		"Marsian Home: scientists" += 5
		conversation
			`As soon as you land the team starts to offload the scanning equipment they used on the moons. One of them gives you a chip with your payment of <payment>. "Thanks again for your help, Captain <last>. I think we collected some interesting data. Please give us an hour to unload everything from your ship."`



mission "Marsian technology: newsletter choice"
	landing
	source "Marsian Home"
	to offer
		has "Search for Marsian Ancestors: Moons: done"
	on offer
		conversation
			`As you return to the researchers you see one of them just doing some paperwork.`
			choice
				`	(Ignore him and leave. It seems there is nothing more to talk about.)`
					decline
				`	(Talk to him.)`
					goto meet

			label meet
			`	As you close up to the researcher he welcomes you: "There is not much news yet. We all are very enthusiastic and busy right now. But if you want, you can subscribe to our newsletter which will inform you about relevant progress.`

			choice
				`	"That sounds promising. Please subscribe me."`
				`	"No thanks. I am not that much interested in scientific bla bla and I dont want to receive any fund raising offers."`
					decline
			apply
				set "Marsian technology newsletter subscription"
			`He grins when putting you on his list: "Good choice, Captain <last>!"`
				decline



mission "Marsian technology: general progress"
	invisible
	landing
	repeat
	to offer
		has "event: Marsian technology timer: general progress"
	on offer
		clear "event: Marsian technology timer: general progress"
		event "Marsian technology: progress timer" 28
		"Marsian Home: archeology points" += "Marsian Home: archeologists"
		"Marsian Home: science points" += "Marsian Home: scientists"
		"Marsian Home: research points" += "Marsian Home: researchers"
		"Marsian Home: engineering points" += "Marsian Home: engineers"
		"Marsian Home: engineering points: Lionheart" += "Marsian Home: engineers: Lionheart"
		"Marsian Home: engineering points: Southbound" += "Marsian Home: engineers: Southbound"
		"Marsian Home: engineering points: Syndicate" += "Marsian Home: engineers: Syndicate"
		"Marsian Home: working points" += "Marsian Home: workers"

		# arrival of additional helpers (volunteers, including families)
		"Marsian Home: population" += 10
		"Marsian Home: archeologists" += 1
		"Marsian Home: scientists" += 1
		"Marsian Home: researchers" += 0
		"Marsian Home: engineers" += 1
		"Marsian Home: workers" += 2
		"Marsian Home: civilians" += 5



# mission "Newsletter: Marsian Home: settlement discovered"
mission "Marsian Home: settlement discovered"
	landing
	to offer
#		has "Marsian technology newsletter subscription"
		has "event: Marsian Home: settlement discovered"
	on offer
		event "Marsian technology timer: spaceport discovered" 14
		conversation
			`You receive a message from the scientists on Marsian Home: "Hi there, Captain <last>! We have exciting news for you. We discovered relicts of ancient settlement. We have not yet found any technology here but having found relicts of a settlement sounds very promising. I personally hope that we will have enough manpower here to recover whatever we will find."`
			`	AUTHORS NOTE: Though you get this choice only once, the story will also continue if you do not reply.`
			choice
				`	(Send a reply and ask, if you can do anything to improve their personal situation.)`
					goto improvesituation
				`	(Send a reply and ask, what type of manpower might be needed.)`
					goto morepeople
				`	(Send a reply and ask about their financial situation.)`
					goto fundraising
				`	(Do not reply.)`
					decline

			label improvesituation
			apply
				"Marsian Home: help offered" ++
				"Marsian Home: improvesituation" = -1
			`	You write a few nice words emphasizing your interest in their work. You ask about their current situation, if they feel comfortable or if they eventually need a trip back home.`
				decline

			label morepeople
			apply
				"Marsian Home: help offered" ++
				"Marsian Home: morepeople" = -1
			`	You write a few nice words emphasizing your interest in their work and that you would be willing to transport more people to their site if that would help.`
				decline

			label fundraising
			apply
				"Marsian Home: help offered" ++
				"Marsian Home: fundraising" = -1
			`	You write a few nice words emphasizing your interest in their work and that you wonder who pays them with no local authority present.`
				decline



mission "EventHandler: Marsian technology: spaceport discovered"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: spaceport discovered"
		"Marsian Home: archeology points" >= 20
		"Marsian Home: engineering points" >= 5
	on offer
		"Marsian Home: archeology points" -= 20
		"Marsian Home: engineering points" -= 5
		event "Marsian technology timer: spaceport operating" 14
		fail
#		decline



mission "Newsletter: Marsian technology: spaceport discovered"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "EventHandler: Marsian technology: first outfitter discovered: offered"
	on offer
		conversation
			`You receive a message from the scientists on Marsian Home: "Hi there, Captain <last>! We have good news for you. We discovered what looks like a spaceport. We temporarily concentrate our efforts into getting that spaceport in service again."`
				decline



mission "EventHandler: Marsian technology: spaceport operating"
# The author decided against a separate newsletter mission in this case - informing about the reopening of the spaceport is of higher importance
	invisible
	landing
	to offer
		has "event: Marsian technology timer: spaceport operating"
		"Marsian Home: engineering points" >= 5
		"Marsian Home: workers" >= 5
	on offer
		"Marsian Home: engineering points" -= 5
		event "Marsian Home: spaceport"
		event "Marsian technology timer: first outfitter discovered" 28
#		fail
#		decline
		conversation
			`You receive a message from the team on Marsian Home: "Hi there, Captain <last>! The spaceport is working again. We don't have many people working there right now, so things might feel slow when many ships demand services. But it's working. - We return to our main business again."`
				decline



mission "EventHandler: Marsian technology: first outfitter discovered"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: first outfitter discovered"
		"Marsian Home: archeology points" >= 30
		"Marsian Home: science points" >= 40
	on offer
		"Marsian Home: archeology points" -= 30
		"Marsian Home: science points" -= 40
		event "Marsian technology timer: first outfitter analyzed" 63
		event "Marsian technology timer: first shipyard discovered" 42
		fail
#		decline



mission "Newsletter: Marsian technology: first outfitter discovered"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "EventHandler: Marsian technology: first outfitter discovered: offered"
	on offer
		conversation
			`You receive a message from the scientists on Marsian Home: "Hi there, Captain <last>! We have exciting news for you. We discovered relicts of ancient technology. It seems we have found parts of an old outfitter complex. We will try to recover any blueprints and machinery we can. Hopefully these will be compatible to existing ships."`
				decline



mission "EventHandler: Marsian technology: first outfitter analyzed"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: first outfitter analyzed"
		"Marsian Home: science points" >= 120
		"Marsian Home: engineering points" >= 30
	on offer
		"Marsian Home: science points" -= 120
		"Marsian Home: engineering points" -= 30
		event "Marsian technology timer: first outfitter operating" 14
		fail
#		decline



mission "Newsletter: Marsian technology: first outfitter analyzed"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "EventHandler: Marsian technology: first outfitter analyzed: offered"
	on offer
		conversation
			`You receive a message from the scientists on Marsian Home: "Hi there, Captain <last>! We are happy to announce that we were able to recover the first outfit blueprints and can put them into production again as soon as we have enough trained workers here. We need to teach them a few things."`
				decline



mission "EventHandler: Marsian technology: first outfitter operating"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: first outfitter operating"
		"Marsian Home: science points" >= 10
		"Marsian Home: engineering points" >= 10
		"Marsian Home: working points" >= 30
		# 10 (initially 5) for the spaceport + initially 20 for the tiny outfitter [x1.5 training points]
		"Marsian Home: workers" >= 30
	on offer
		"Marsian Home: science points" -= 10
		"Marsian Home: engineering points" -= 10
		"Marsian Home: working points" -= 30
		event "Marsian Home: tiny outfits"
		event "Marsian technology timer: basic human outfits" 14
		event "Marsian technology timer: small outfits" 35
		fail
#		decline



mission "Newsletter: Marsian Home: tiny outfits"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian Home: tiny outfits"
	on offer
		conversation
			`You receive the next message from the scientists on Marsian Home: "Hi there, Captain <last>! We finally have enough trained workers here to operate that tiny outfitter site now."`
				decline



mission "EventHandler: Marsian technology: basic human outfits"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: basic human outfits"
		# 10 (initially 5) for the spaceport + 40 (initially 20) for the tiny outfitter + some excess capacities [+20 excess x1.5 training points, plus training the other new workers]
		"Marsian Home: engineering points" >= 20
		"Marsian Home: working points" >= 60
		"Marsian Home: workers" >= 70
	on offer
		"Marsian Home: engineering points" -= 20
		"Marsian Home: working points" -= 60
		event "Marsian Home: basic human outfits"
		fail
#		decline

# mission "Newsletter: Marsian Home: basic human outfits"
# The author decided against creating this one



mission "EventHandler: Marsian technology: small outfits"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: small outfits"
		# 10 (initially 5) for the spaceport + 40 (initially 20) for the tiny outfitter + some excess capacities [+20 excess x1.5 training points, plus training existing workers]
		"Marsian Home: science points" >= 20
		"Marsian Home: engineering points" >= 40
		"Marsian Home: working points" >= 120
		"Marsian Home: workers" >= 90
	on offer
		"Marsian Home: science points" -= 20
		"Marsian Home: engineering points" -= 40
		"Marsian Home: working points" -= 120
		event "Marsian Home: small outfits"
		fail
#		decline



mission "Newsletter: Marsian Home: small outfits"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian Home: small outfits"
	on offer
		conversation
			`You receive the next message from the scientists on Marsian Home: "Hi there, Captain <last>! Our tiny outfitter now offers a few more outfits."`
				decline



mission "EventHandler: Marsian technology: advanced human outfits"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: advanced human outfits"
		# 10 (initially 5) for the spaceport + 40 (+ 40/20-40 excess) for the tiny outfitter + some excess capacities [+30 excess x1.5 training points, plus training existing workers]
		"Marsian Home: engineering points" >= 60
		"Marsian Home: working points" >= 150
		"Marsian Home: workers" >= 120
	on offer
		"Marsian Home: engineering points" -= 60
		"Marsian Home: working points" -= 150
		event "Marsian Home: advanced human outfits"
# temporary solution
		event "Marsian Home: g1i human outfits"
		event "Marsian Home: g1w human outfits"
		event "Marsian Home: g2i human outfits"
		event "Marsian Home: g2w human outfits"
		event "Marsian Home: g3i human outfits"
		fail
#		decline

# mission "Newsletter: Marsian Home: advanced human outfits"
# The author decided against creating this one



mission "EventHandler: Marsian technology: first shipyard discovered"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: first shipyard discovered"
		"Marsian Home: archeology points" >= 100
		"Marsian Home: science points" -= 80
	on offer
		"Marsian Home: archeology points" -= 100
		"Marsian Home: science points" -= 80
		event "Marsian technology timer: first shipyard analyzed" 90
		event "Marsian technology timer: second outfitter discovered" 60
		fail
#		decline



mission "Newsletter: Marsian technology: first shipyard discovered"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "EventHandler: Marsian technology: first shipyard discovered: offered"
	on offer
		conversation
			`You receive a message from the scientists on Marsian Home: "Hi there, Captain <last>! We have exciting news for you. We think that we discovered parts of a shipyard. Again, we will try to recover any blueprints and machinery we can. This is so exciting!"`
				decline



mission "EventHandler: Marsian technology: first shipyard analyzed"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: first shipyard analyzed"
		"Marsian Home: science points" >= 400
		"Marsian Home: engineering points" >= 60
	on offer
		"Marsian Home: science points" -= 400
		"Marsian Home: engineering points" -= 60
		event "Marsian technology timer: first shipyard operating" 21
		event "Marsian technology: Tiny Outfits"
		fail
#		decline



mission "Newsletter: Marsian technology: first shipyard analyzed"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "EventHandler: Marsian technology: first shipyard analyzed: offered"
	on offer
		conversation
			`You receive a message from the scientists on Marsian Home: "Hi there, Captain <last>! We are happy to announce that we were able to recover the first ship blueprints and can put them into production as soon as we have enough trained workers here. We need to teach them a few things."`
				decline



mission "EventHandler: Marsian technology: first shipyard operating"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: first shipyard operating"
		"Marsian Home: science points" >= 20
		"Marsian Home: engineering points" >= 20
		"Marsian Home: working points" >= 150
		# 10 for the spaceport + 40 (+ 60/20-70 excess) for the tiny outfitter + initially 50 for the small shipyard [x3 training points]
		"Marsian Home: workers" >= 160
	on offer
		"Marsian Home: science points" -= 20
		"Marsian Home: engineering points" -= 20
		"Marsian Home: working points" -= 150
		event "Marsian Home: g1 support ships"
		event "Marsian technology timer: basic human ships" 21
		event "Marsian technology timer: g1 interceptors" 35
		event "Marsian technology timer: g1 warships" 63
		event "Marsian technology timer: g1 capital ships" 90
		fail
#		decline



mission "Newsletter: Marsian Home: g1 support ships"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian Home: g1 support ships"
	on offer
		conversation
			`You receive the next message from the scientists on Marsian Home: "Hi there, Captain <last>! We finally have enough trained workers here to operate that first shipyard facility now."`
				decline



mission "EventHandler: Marsian technology: basic human ships"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: basic human ships"
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter + 80 (initially 50) for the small shipyard + some excess capacities [+20 x3 training points]
		"Marsian Home: engineering points" >= 20
		"Marsian Home: working points" >= 150
		"Marsian Home: workers" >= 220
	on offer
		"Marsian Home: engineering points" -= 20
		"Marsian Home: working points" -= 150
		event "Marsian Home: basic human ships"
		fail
#		decline

# mission "Newsletter: Marsian Home: basic human ships"
# The author decided against creating this one



mission "EventHandler: Marsian technology: g1 interceptors"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: g1 interceptors"
		"Marsian Home: science points" >= 40
		"Marsian Home: engineering points" >= 40
		"Marsian Home: working points" >= 360
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter + 80 (+ 20/20 excess) for the small shipyard + some excess capacities [+20 x3 training points]
		"Marsian Home: workers" >= 240
	on offer
		"Marsian Home: science points" -= 40
		"Marsian Home: engineering points" -= 40
		"Marsian Home: working points" -= 360
		event "Marsian Home: g1 interceptors"
		fail
#		decline



mission "Newsletter: Marsian Home: g1 interceptors"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian Home: g1 interceptors"
	on offer
		conversation
			`You receive the next message from the scientists on Marsian Home: "Hi there, Captain <last>! We finished testing the first fighters and interceptors of those ancestors and started production of both in that shipyard facility."`
				decline



mission "EventHandler: Marsian technology: g1 warships"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: g1 warships"
		has "event: stack core for sale"
		"Marsian Home: science points" >= 60
		"Marsian Home: engineering points" >= 100
		"Marsian Home: working points" >= 600
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter + 80 (+ 40/20-40 excess) for the small shipyard + some excess capacities [+40 x4 training points]
		"Marsian Home: workers" >= 280
	on offer
		"Marsian Home: science points" -= 60
		"Marsian Home: engineering points" -= 100
		"Marsian Home: working points" -= 600
		event "Marsian Home: g1 warships"
		fail
#		decline



mission "Newsletter: Marsian Home: g1 warships"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian Home: g1 warships"
	on offer
		conversation
			`You receive the next message from the scientists on Marsian Home: "Hi there, Captain <last>! Those warships we recovered look pretty interesting to us. We starting producing them in that shipyard facility."`
				decline



mission "EventHandler: Marsian technology: g1 capital ships"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: g1 capital ships"
		has "event: Marsian Home: g1 military outfits"
		has "event: stack core for sale"
		"Marsian Home: science points" >= 80
		"Marsian Home: engineering points" >= 240
		"Marsian Home: working points" >= 920
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter
		# + 30 (initially 20) for the second outfitter
		# + 80 (+ 80/20-80 excess) for the small shipyard + some excess capacities [+90 x4 training points]
		"Marsian Home: workers" >= 400
	on offer
		"Marsian Home: science points" -= 80
		"Marsian Home: engineering points" -= 240
		"Marsian Home: working points" -= 920
		event "Marsian Home: g1 capital ships"
		fail
#		decline



mission "Newsletter: Marsian Home: g1 capital ships"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian Home: g1 capital ships"
	on offer
		conversation
			`You receive the next message from the scientists on Marsian Home: "Hi there, Captain <last>! We finally started production of the first carrier ship. But we have not yet found most of the outfits which the ancestors used for them so we have to equip them with currently available outfits."`
				decline



mission "EventHandler: Marsian technology: second outfitter discovered"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: second outfitter discovered"
		"Marsian Home: archeology points" >= 240
		"Marsian Home: science points" >= 80
	on offer
		"Marsian Home: archeology points" -= 240
		"Marsian Home: science points" -= 80
		event "Marsian technology timer: second outfitter analyzed" 63
		event "Marsian technology timer: second shipyard discovered" 42
		fail
#		decline



mission "Newsletter: Marsian technology: second outfitter discovered"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "EventHandler: Marsian technology: second outfitter discovered: offered"
	on offer
		conversation
			`You receive a message from the scientists on Marsian Home: "Hi there, Captain <last>! We have good news for you. It seems we have found parts of another outfitter complex. We will again try to recover any blueprints and machinery we can."`
				decline



mission "EventHandler: Marsian technology: second outfitter analyzed"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: second outfitter analyzed"
		"Marsian Home: science points" >= 120
		"Marsian Home: engineering points" >= 30
	on offer
		"Marsian Home: science points" -= 120
		"Marsian Home: engineering points" -= 30
		event "Marsian technology timer: second outfitter operating" 14
		fail
#		decline



mission "Newsletter: Marsian technology: second outfitter analyzed"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "EventHandler: Marsian technology: second outfitter analyzed: offered"
	on offer
		conversation
			`You receive a message from the scientists on Marsian Home: "Hi there, Captain <last>! We could recover some military outfits from that second outfitter. We will try to put them into production as soon as possible. We just need enough trained workers here."`
				decline



mission "EventHandler: Marsian technology: second outfitter operating"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: second outfitter operating"
		"Marsian Home: science points" >= 20
		"Marsian Home: engineering points" >= 30
		"Marsian Home: working points" >= 40
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter
		# + initially 20 for the second outfitter [x2 training points]
		# + 80 (+ 80/20-80 excess) for the small shipyard
		"Marsian Home: workers" >= 300
	on offer
		"Marsian Home: science points" -= 20
		"Marsian Home: engineering points" -= 30
		"Marsian Home: working points" -= 40
		event "Marsian Home: g1 military outfits"
		event "Marsian technology timer: g2 military outfits" 21
		event "Marsian technology timer: g2 capital outfits" 35
		event "Marsian technology timer: g3 military outfits" 49
		fail
#		decline



mission "Newsletter: Marsian Home: g1 military outfits"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian Home: g1 military outfits"
	on offer
		conversation
			`You receive the next message from the scientists on Marsian Home: "Hi there, Captain <last>! We finally have the first military outfit in production."`
				decline



mission "EventHandler: Marsian technology: g2 military outfits"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: g2 military outfits"
		"Marsian Home: science points" >= 40
		"Marsian Home: engineering points" >= 60
		"Marsian Home: working points" >= 180
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter
		# + 40 (initially 20) for the second outfitter + some excess capacities [+40 x3 training points, plus training the other new workers]
		# + 80 (+ 170/20-170 excess) for the small shipyard
		"Marsian Home: workers" >= 450
	on offer
		"Marsian Home: science points" -= 40
		"Marsian Home: engineering points" -= 60
		"Marsian Home: working points" -= 180
		event "Marsian Home: g2 military outfits"
		fail
#		decline

# mission "Newsletter: Marsian Home: g2 military outfits"
# The author decided against creating this one



mission "EventHandler: Marsian technology: g2 capital outfits"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: g2 capital outfits"
		"Marsian Home: science points" >= 60
		"Marsian Home: engineering points" >= 180
		"Marsian Home: working points" >= 210
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter
		# + 40 (+ 40/40-40 excess) for the second outfitter + some excess capacities [+60 x3.5 training points]
		# + 80 (+ 170/20-170 excess) for the small shipyard
		"Marsian Home: workers" >= 510
	on offer
		"Marsian Home: science points" -= 60
		"Marsian Home: engineering points" -= 180
		"Marsian Home: working points" -= 210
		event "Marsian Home: g2 capital outfits"
		fail
#		decline

# mission "Newsletter: Marsian Home: g2 capital outfits"
# The author decided against creating this one



mission "EventHandler: Marsian technology: g3 military outfits"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: g3 military outfits"
		"Marsian Home: science points" >= 80
		"Marsian Home: engineering points" >= 300
		"Marsian Home: working points" >= 800
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter
		# + 40 (+ 100/40-100 excess) for the second outfitter + some excess capacities [+60 x4 training points, plus training existing workers]
		# + 80 (+ 170/20-170 excess) for the small shipyard
		"Marsian Home: workers" >= 570
	on offer
		"Marsian Home: science points" -= 80
		"Marsian Home: engineering points" -= 300
		"Marsian Home: working points" -= 800
		event "Marsian Home: g3 military outfits"
		fail
#		decline



mission "Newsletter: Marsian Home: g3 military outfits"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian Home: g3 military outfits"
	on offer
		conversation
			`You receive the next message from the scientists on Marsian Home: "Hi there, Captain <last>! Our outfitter now offers EMP blasters."`
				decline










mission "EventHandler: Marsian technology: second shipyard discovered"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: second shipyard discovered"
		"Marsian Home: archeology points" >= 600
		"Marsian Home: science points" -= 150
	on offer
		"Marsian Home: archeology points" -= 600
		"Marsian Home: science points" -= 150
		event "Marsian technology timer: second shipyard analyzed" 90
		event "Marsian technology timer: third outfitter discovered" 60
		fail
#		decline



mission "Newsletter: Marsian technology: second shipyard discovered"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "EventHandler: Marsian technology: second shipyard discovered: offered"
	on offer
		conversation
			`You receive a message from the scientists on Marsian Home: "Hi there, Captain <last>! We have exciting news for you. We think that we discovered parts of a shipyard. Again, we will try to recover any blueprints and machinery we can. This is so exciting!"`
				decline



mission "EventHandler: Marsian technology: second shipyard analyzed"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: second shipyard analyzed"
		"Marsian Home: science points" >= 400
		"Marsian Home: engineering points" >= 60
	on offer
		"Marsian Home: science points" -= 400
		"Marsian Home: engineering points" -= 60
		event "Marsian technology timer: second shipyard operating" 21
		event "Marsian technology: Tiny Outfits"
		fail
#		decline



mission "Newsletter: Marsian technology: second shipyard analyzed"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "EventHandler: Marsian technology: second shipyard analyzed: offered"
	on offer
		conversation
			`You receive a message from the scientists on Marsian Home: "Hi there, Captain <last>! We are happy to announce that we were able to recover more ship blueprints and can put them into production as soon as we have enough trained workers here. We need to teach them a few things."`
				decline



mission "EventHandler: Marsian technology: second shipyard operating"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: second shipyard operating"
		"Marsian Home: science points" >= 80
		"Marsian Home: engineering points" >= 120
		"Marsian Home: working points" >= 240
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter
		# + 40 (+ 160/40-160 excess) for the second outfitter
		# + 80 (+ 170/20-170 excess) for the small shipyard
		# + initially 60 for the second shipyard [x4 training points]
		"Marsian Home: workers" >= 630
	on offer
		"Marsian Home: science points" -= 80
		"Marsian Home: engineering points" -= 120
		"Marsian Home: working points" -= 240

		event "Marsian Home: g2 small freight ships"

# temporary solution
		event "Marsian Home: g2 capital ships"
		event "Marsian Home: g2 colony ships (heavy)"
		event "Marsian Home: g2 colony ships (capital)"
		event "Marsian Home: g3 interceptors"
		event "Marsian Home: g3 warships"
		event "Marsian Home: g3 capital ships"
		event "Marsian Home: g4 cubes"
		event "Marsian Home: g4 cubes xxl"


		event "Marsian technology timer: g2 small transport ships" 7
		event "Marsian technology timer: g2 cargo drones" 14
		event "Marsian technology timer: g2 colony ships (small)" 28
		event "Marsian technology timer: g2 interceptors" 35
		event "Marsian technology timer: g2 warships" 63
		event "Marsian technology timer: g2 colony ships (medium)" 70
		event "Marsian technology timer: g2 freight ships" 90
		event "Marsian technology timer: g2 transport ships" 90
		event "Marsian technology timer: g2 capital ships" 120
		fail
#		decline



mission "Newsletter: Marsian Home: g2 small freight ships"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian Home: g2 small freight ships"
	on offer
		conversation
			`You receive the next message from the scientists on Marsian Home: "Hi there, Captain <last>! We finally have enough trained workers here to operate that second shipyard facility now. We started producing some freighters."`
				decline



mission "EventHandler: Marsian technology: g2 small transport ships"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: g2 small transport ships"
		"Marsian Home: science points" >= 80
		"Marsian Home: engineering points" >= 120
		"Marsian Home: working points" >= 240
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter
		# + 40 (+ 160/40-160 excess) for the second outfitter
		# + 80 (+ 170/20-170 excess) for the small shipyard
		# + 100 (initially 60) for the second shipyard + some excess capacities [+20 x4 training points, plus training the new workers]
		"Marsian Home: workers" >= 690
	on offer
		"Marsian Home: science points" -= 80
		"Marsian Home: engineering points" -= 120
		"Marsian Home: working points" -= 240
		event "Marsian Home: g2 small transport ships"
		fail
#		decline

# mission "Newsletter: Marsian Home: g2 small transport ships"
# The author decided against creating this one



mission "EventHandler: Marsian technology: g2 cargo drones"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: g2 cargo drones"
		"Marsian Home: science points" >= 80
		"Marsian Home: engineering points" >= 120
		"Marsian Home: working points" >= 120
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter
		# + 40 (+ 160/40-160 excess) for the second outfitter
		# + 80 (+ 170/20-170 excess) for the small shipyard
		# + 100 (+ 20/20-20) for the second shipyard + some excess capacities [+30 x4 training points]
		"Marsian Home: workers" >= 720
	on offer
		"Marsian Home: science points" -= 80
		"Marsian Home: engineering points" -= 120
		"Marsian Home: working points" -= 120
		event "Marsian Home: g2 cargo drones"
		fail
#		decline



mission "Newsletter: Marsian Home: g2 cargo drones"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian Home: g2 cargo drones"
	on offer
		conversation
			`You receive the next message from the scientists on Marsian Home: "Hi there, Captain <last>! We finished testing the some cargo drones and started production of these in that second shipyard facility."`
				decline



mission "EventHandler: Marsian technology: g2 colony ships (small)"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: g2 colony ships (small)"
		"Marsian Home: science points" >= 100
		"Marsian Home: engineering points" >= 150
		"Marsian Home: working points" >= 570
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter
		# + 40 (+ 160/40-160 excess) for the second outfitter
		# + 80 (+ 170/20-170 excess) for the small shipyard
		# + 100 (+ 50/20-50) for the second shipyard + some excess capacities [+30 x4 training points, plus training the existing workers x3]
		"Marsian Home: workers" >= 750
	on offer
		"Marsian Home: science points" -= 100
		"Marsian Home: engineering points" -= 150
		"Marsian Home: working points" -= 570
		event "Marsian Home: g2 colony ships (small)"
		fail
#		decline

# mission "Newsletter: Marsian Home: g2 colony ships (small)"
# The author decided against creating this one



mission "EventHandler: Marsian technology: g2 interceptors"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: g2 interceptors"
		has "event: Marsian Home: g2i human outfits"

		"Marsian Home: science points" >= 100
		"Marsian Home: engineering points" >= 180
		"Marsian Home: working points" >= 640
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter
		# + 40 (+ 160/40-160 excess) for the second outfitter
		# + 80 (+ 170/20-170 excess) for the small shipyard
		# + 100 (+ 80/20-80) for the second shipyard + some excess capacities [+20 x5 training points, plus training the existing workers x3]
		"Marsian Home: workers" >= 770
	on offer
		"Marsian Home: science points" -= 100
		"Marsian Home: engineering points" -= 180
		"Marsian Home: working points" -= 640
		event "Marsian Home: g2 interceptors"
		fail
#		decline

# mission "Newsletter: Marsian Home: g2 interceptors"
# The author decided against creating this one



mission "EventHandler: Marsian technology: g2 warships"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: g2 warships"
		has "event: Marsian Home: g2w human outfits"

		"Marsian Home: science points" >= 120
		"Marsian Home: engineering points" >= 240
		"Marsian Home: working points" >= 850
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter
		# + 40 (+ 160/40-160 excess) for the second outfitter
		# + 80 (+ 170/20-170 excess) for the small shipyard
		# + 100 (+ 100/20-100) for the second shipyard + some excess capacities [+50 x5 training points, plus training the existing workers x3]
		"Marsian Home: workers" >= 820
	on offer
		"Marsian Home: science points" -= 120
		"Marsian Home: engineering points" -= 240
		"Marsian Home: working points" -= 850
		event "Marsian Home: g2 warships"
		fail
#		decline



mission "Newsletter: Marsian Home: g2 warships"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian Home: g2 warships"
	on offer
		conversation
			`You receive the next message from the scientists on Marsian Home: "Hi there, Captain <last>! Those warships we recovered look pretty interesting to us. We starting producing them in that second shipyard facility."`
				decline



mission "EventHandler: Marsian technology: g2 colony ships (medium)"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: g2 colony ships (medium)"
		"Marsian Home: science points" >= 150
		"Marsian Home: engineering points" >= 300
		"Marsian Home: working points" >= 1000
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter
		# + 40 (+ 160/40-160 excess) for the second outfitter
		# + 80 (+ 170/20-170 excess) for the small shipyard
		# + 100 (+ 150/20-150) for the second shipyard + some excess capacities [+50 x5 training points, plus training the existing workers x3]
		"Marsian Home: workers" >= 870
	on offer
		"Marsian Home: science points" -= 150
		"Marsian Home: engineering points" -= 300
		"Marsian Home: working points" -= 1000
		event "Marsian Home: g2 colony ships (medium)"
		fail
#		decline

# mission "Newsletter: Marsian Home: g2 colony ships (medium)"
# The author decided against creating this one



mission "EventHandler: Marsian technology: g2 freight ships"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: g2 freight ships"
		has "event: Marsian Home: g2 capital outfits"
		"Marsian Home: science points" >= 100
		"Marsian Home: engineering points" >= 300
		"Marsian Home: working points" >= 200
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter
		# + 40 (+ 160/40-160 excess) for the second outfitter
		# + 80 (+ 170/20-170 excess) for the small shipyard
		# + 100 (+ 200/20-200) for the second shipyard + some excess capacities [+40 x5 training points]
		"Marsian Home: workers" >= 910
	on offer
		"Marsian Home: science points" -= 100
		"Marsian Home: engineering points" -= 300
		"Marsian Home: working points" -= 200
		event "Marsian Home: g2 freight ships"
		fail
#		decline

# mission "Newsletter: Marsian Home: g2 freight ships"
# The author decided against creating this one



mission "EventHandler: Marsian technology: g2 transport ships"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: g2 transport ships"
		has "event: Marsian Home: g2 capital outfits"
		"Marsian Home: science points" >= 100
		"Marsian Home: engineering points" >= 300
		"Marsian Home: working points" >= 200
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter
		# + 40 (+ 160/40-160 excess) for the second outfitter
		# + 80 (+ 170/20-170 excess) for the small shipyard
		# + 100 (+ 240/20-240) for the second shipyard + some excess capacities [+40 x5 training points]
		"Marsian Home: workers" >= 950
	on offer
		"Marsian Home: science points" -= 100
		"Marsian Home: engineering points" -= 300
		"Marsian Home: working points" -= 200
		event "Marsian Home: g2 transport ships"
		fail
#		decline

# mission "Newsletter: Marsian Home: g2 transport ships"
# The author decided against creating this one



mission "EventHandler: Marsian technology: g2 capital ships"
	invisible
	landing
	to offer
		has "event: Marsian technology timer: g2 capital ships"
		has "event: Marsian Home: g2 military outfits"
		has "event: Marsian Home: g2 capital outfits"
		"Marsian Home: science points" >= 120
		"Marsian Home: engineering points" >= 420
		"Marsian Home: working points" >= 420
		# 10 for the spaceport + 40 (+ 70/20-70 excess) for the tiny outfitter
		# + 40 (+ 160/40-160 excess) for the second outfitter
		# + 80 (+ 170/20-170 excess) for the small shipyard
		# + 100 (+ 280/20-280) for the second shipyard + some excess capacities [+70 x6 training points]
		"Marsian Home: workers" >= 1020
	on offer
		"Marsian Home: science points" -= 120
		"Marsian Home: engineering points" -= 420
		"Marsian Home: working points" -= 420
		event "Marsian Home: g2 capital ships"
		fail
#		decline



mission "Newsletter: Marsian Home: g2 capital ships"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian Home: g2 capital ships"
	on offer
		conversation
			`You receive the next message from the scientists on Marsian Home: "Hi there, Captain <last>! We finally started production of these larger carrier ships. The power demands of these ships are really big."`
				decline



















mission "Newsletter: Marsian technology: Megaliner"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian technology: Megaliner"
	on offer
		conversation
			`You receive another newsletter from the scientists on Marsian Home:`
			`Hi there, Captain <last>! We have very exciting news for you. We were able to recover blueprints of extremely large freighter ships and more outfit components. Our shipyard started production of the first Megaliner and we have sent out blueprints of a smaller version, the Freightliner, to all major shipyards within our communication range.`
			`The data files of that shipyard also contain blueprints for ships even bigger than the Megaliner but we are still processing that data. We estimate it take another six months to fully decipher and translate those blueprints. They seem really big!`
			`Investors started to open a yard on planet Mars as well. With some delay most of our findings should become available there.`
			`In the mean time we also found another outfitter down here. We all are so excited here!`
				decline

mission "Newsletter: Marsian technology: Military"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian technology: Military"
	on offer
		conversation
			`You receive an encrypted newsletter from the scientists on Marsian Home:`
			`Hi there, Captain <last>! We have excellent news for you. We were able to finish major military applications of our findings. Aside many outfits these include a full set of combat drones, fighters and a few qualified warships with carrier abilities.`
			`Sadly some pirates already stole blueprints of some ground weapons from us. He will be more careful in the future whom we trust.`
			`We started processing the more complex data sets now. The ancestors seem to had some cubic ship designs which we currently try to reconstruct. It will probably take us several months but from what we have seen so far these ships will probably be the most powerful ones in known human space for centuries. So better stay tuned and prepare to spend some large amounts of cash on whatever we will become ready to build.`
				decline

mission "Newsletter: Marsian technology: Metropolis"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian technology: Metropolis"
	on offer
		conversation
			`You receive another newsletter from the scientists on Marsian Home:`
			`Hi there, Captain <last>! Sorry for the slight delays but even with the additional resources we lately received it took a bit longer to fully translate those Metropolis blueprint. Yes! These Marsian Ancestors really did build flying cities equipped with Jump Drives. And we have translated the blueprints of these as well of their Metroliners and they are accessable in our local shipyard now.`
				decline

mission "Newsletter: Marsian technology: Human Freighters"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian technology: Human Freighters"
	on offer
		conversation
			`After a long time, you receive another newsletter from the scientists on Marsian Home: "Hi there, Captain <last>! One of our ship design teams has created a new series of civil transport and freighter ships, replacing the old Star Queen and a few other ship types. We are still working on something big."`
				decline

mission "Newsletter: Marsian technology: Human Freighters Adv"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian technology: Human Freighters Adv"
	on offer
		conversation
			`After a while, you receive another newsletter from the scientists on Marsian Home: "Hi there, Captain <last>! The design team which created the courier class has created larger variants including a unique transport and a new heavy freighter."`
				decline

mission "Newsletter: Marsian technology: Ancient Cubes"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian technology: Ancient Cubes"
	on offer
		conversation
			`After a long time, you receive another encrypted message from the scientists on Marsian Home: "Hi there, Captain <last>! We have strictly confidential news for you. We were able to finish processing through the remaining data. Our shipyard started production of a new superior fighter class which will be carried by huge carrier crafts. We have successfully tested downsized models of the new cube ships as they are too expensive to build a fullsize prototype. We hope you could gather some major funds in the mean time to allow us to build one of these new ships for you exclusively."`
				decline

mission "Newsletter: Marsian technology: Ancient Cubes XXL"
	landing
	to offer
		has "Marsian technology newsletter subscription"
		has "event: Marsian technology: Ancient Cubes XXL"
	on offer
		conversation
			`After a long time, you receive another encrypted message from the scientists on Marsian Home: "Hi there, Captain <last>! We have strictly confidential news for you. In response to your demand for large scale freighters we designed a few new ultra heavy freighters based on the modular design of the Tactical Cube 255. These ships will hopefully fulfill all your cargo lifting dreams. But again, as with the previous cubes, we have only tested downsized models of the new cube ships as they are too expensive to build a fullsize prototype. We hope you could gather some major funds in the mean time to allow us to build one of these new ships for you exclusively."`
				decline
